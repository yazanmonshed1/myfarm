var propertyFilterAjax;function wp_rem_property_map_setter(e,r){"use strict";new Function("return "+("wp_rem_property_map_"+e)+"("+r+");")()}function top_map_change_cords(e){"use strict";var r,t;0!==jQuery(".wp-rem-ontop-gmap").length&&(r=wp_rem_globals.ajax_url,t="ajax_filter=true&map=top_map&action=wp_rem_top_map_search&"+jQuery(jQuery("#frm_property_arg"+e)[0].elements).not(":input[name='alerts-email'], :input[name='alert-frequency']").serialize(),0<jQuery('form[name="wp-rem-top-map-form"]').length&&(t+="&"+jQuery('form[name="wp-rem-top-map-form"]').serialize()+"&atts="+jQuery("#atts").html()),t=stripUrlParams(t),jQuery.ajax({url:r,method:"POST",data:t,dataType:"json"}).done(function(e){void 0!==e.html&&jQuery(".top-map-action-scr").html(e.html)}).fail(function(){}))}function wp_rem_property_content(t,e,r){t=t||"";e=e||"";"false"!=(r=r||"")&&jQuery("html, body").animate({scrollTop:jQuery("#wp-rem-property-content-"+t).offset().top-120},700);var a=jQuery("#property_arg"+t).html();jQuery("#frm_property_arg"+t);0<jQuery(".wp-rem-split-map-wrap").size()&&(e="split_map");var o;jQuery("#ads_list_count_"+t).val(),jQuery("#ads_list_flag_"+t).val(),jQuery("#ads_list_flag_count_"+t).val();0<jQuery("#frm_property_arg"+t).length&&(o=jQuery(jQuery("#frm_property_arg"+t)[0].elements).not(":input[name='alerts-email'], :input[name='alert-frequency']").serialize(),0<jQuery('form[name="wp-rem-top-map-form"]').length&&(o+="&"+jQuery('form[name="wp-rem-top-map-form"]').serialize()),o=(o=o.replace(/[^&]+=\.?(?:&|jQuery)/g,"")).replace("undefined",""),o=stripUrlParams(o+="&ajax_filter=true"),jQuery("body").hasClass("wp-rem-changing-view")||top_map_change_cords(t),jQuery("#Property-content-"+t+" .property").addClass("slide-loader"),jQuery("#wp-rem-data-property-content-"+t+" .slide-loader-holder").addClass("slide-loader"),jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:o+"&action=wp_rem_properties_content&view_type="+e+"&property_arg="+a,success:function(e){jQuery("body").removeClass("wp-rem-changing-view"),jQuery("#Property-content-"+t).html(e),o=o.replace("&&","&");var r=(r=location.protocol+"//"+location.host+location.pathname+"?"+o).replace("&=undefined","");window.history.pushState(null,null,decodeURIComponent(r)),jQuery(".chosen-select").chosen(),jQuery("#wp-rem-data-property-content-"+t+" .slide-loader-holder").removeClass("slide-loader"),wp_rem_hide_loader(),jQuery(".property-medium .img-holder img, .property-grid .img-holder img").one("load",function(){jQuery(this).parents(".img-holder").addClass("image-loaded")}).each(function(){this.complete&&jQuery(this).load()}),0<jQuery(".property-medium.modern").length&&jQuery(".property-medium.modern .img-holder").css("background-image").match(/url\(["']?([^()]*)["']?\)/).pop()&&jQuery(".property-medium.modern .img-holder").addClass("image-loaded")}}))}function wp_rem_property_content_without_filters(t,e,r,a,o){"use strict";t=t||"";var p=jQuery("#property_arg"+t).html(),i=e+"="+r;jQuery("#wp-rem-data-property-content-"+t+" .slide-loader-holder").addClass("slide-loader"),void 0!==propertyFilterAjax&&propertyFilterAjax.abort(),propertyFilterAjax=jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:i+"&action=wp_rem_properties_content&view_type="+o+"&property_arg="+p,success:function(e){jQuery("#Property-content-"+t).html(e),i=i.replace("&&","&");var r=location.protocol+"//"+location.host+location.pathname+"?"+i;window.history.pushState(null,null,decodeURIComponent(r)),jQuery(".chosen-select").chosen(),jQuery("#wp-rem-data-property-content-"+t+" .slide-loader-holder").removeClass("slide-loader"),wp_rem_hide_loader(),jQuery(".property-medium .img-holder img, .property-grid .img-holder img").one("load",function(){jQuery(this).parents(".img-holder").addClass("image-loaded")}).each(function(){this.complete&&jQuery(this).load()}),0<jQuery(".property-medium.modern").length&&jQuery(".property-medium.modern .img-holder").css("background-image").match(/url\(["']?([^()]*)["']?\)/).pop()&&jQuery(".property-medium.modern .img-holder").addClass("image-loaded")}})}function stripUrlParams(e){"use strict";for(var r=e.split("&"),t={},a=r.length-1;0<=a;a--){var o=r[a].split("=");(void 0===t[o[0]]||void 0!==t[o[0]]&&""==t[o[0]])&&(t[o[0]]=o[1])}for(var p in r=[],t)r.push(p+"="+t[p]);return r.join("&")}function wp_rem_property_filters_content(t,e,r,a){"use strict";t=t||"";var o=jQuery("#property_arg"+t).html(),p=(jQuery("#frm_property_arg"+t),jQuery("#ads_list_count_"+t).val(),jQuery("#ads_list_flag_"+t).val(),jQuery("#ads_list_flag_count_"+t).val(),"tab="+a+"&"+e+"="+r+"&ajax_filter=true");jQuery("#wp-rem-data-property-content-"+t+" .all-results").addClass("slide-loader"),void 0!==propertyFilterAjax&&propertyFilterAjax.abort(),propertyFilterAjax=jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:p+"&action=wp_rem_properties_filters_content&property_arg="+o,success:function(e){jQuery("#property-tab-content-"+t).html(e),jQuery("#property-tab-content-"+t+" .row").mixItUp({selectors:{target:".portfolio"}}),p=p.replace("&&","&");var r=location.protocol+"//"+location.host+location.pathname+"?"+p;window.history.pushState(null,null,decodeURIComponent(r)),jQuery(".chosen-select").chosen(),jQuery("#wp-rem-data-property-content-"+t+" .all-results").removeClass("slide-loader"),jQuery(".property-medium .img-holder img, .property-grid .img-holder img").one("load",function(){jQuery(this).parents(".img-holder").addClass("image-loaded")}).each(function(){this.complete&&jQuery(this).load()})}})}function wp_rem_property_by_categories_filters_content(t,e,r,a){"use strict";t=t||"";var o=jQuery("#property_arg"+t).html(),p=(jQuery("#frm_property_arg"+t),jQuery("#ads_list_count_"+t).val(),jQuery("#ads_list_flag_"+t).val(),jQuery("#ads_list_flag_count_"+t).val(),"tab="+a+"&"+e+"="+r+"&ajax_filter=true");jQuery("#wp-rem-data-property-content-"+t+" .all-results").addClass("slide-loader"),void 0!==propertyFilterAjax&&propertyFilterAjax.abort(),propertyFilterAjax=jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:p+"&action=wp_rem_property_by_categories_filters_content&property_arg="+o,success:function(e){jQuery("#property-tab-content-"+t).html(e),jQuery("#property-tab-content-"+t+" .row").mixItUp({selectors:{target:".portfolio"}}),p=p.replace("&&","&");var r=location.protocol+"//"+location.host+location.pathname+"?"+p;window.history.pushState(null,null,decodeURIComponent(r)),jQuery(".chosen-select").chosen(),jQuery("#wp-rem-data-property-content-"+t+" .all-results").removeClass("slide-loader"),jQuery(".property-medium .img-holder img, .property-grid .img-holder img").one("load",function(){jQuery(this).parents(".img-holder").addClass("image-loaded")}).each(function(){this.complete&&jQuery(this).load()})}})}function convertHTML(e){"use strict";var r=jQuery.trim(e),t=jQuery(r),a=jQuery();return t.each(function(e,r){1===r.nodeType&&(a=a.add(this))}),a}function wp_rem_property_type_search_fields(e,r,t,a){"use strict";void 0!==a&&""!=a||(a=jQuery(e).find(":selected").attr("data-search-page")),jQuery("#top-search-form-"+r).attr("action",a),jQuery.ajax({type:"POST",dataType:"json",url:wp_rem_globals.ajax_url,data:"&action=wp_rem_property_type_search_fields&property_short_counter="+r+"&property_type_slug="+e.value+"&price_switch="+t,success:function(e){jQuery("#property_type_fields_"+r).html(""),jQuery("#property_type_fields_"+r).html(e.html)}})}function wp_rem_property_type_price_type_field(e,r,t,a,o){"use strict";void 0===a&&(a="default"),void 0===o&&(o="none");var p=("modern-v4"==a?"":'<strong class="search_title">'+wp_rem_property_functions_string.price_type+"</strong>")+'<b class="spinner-label">'+wp_rem_property_functions_string.all+'</b><span class="cate-spinning"><i class="icon-spinner8"></i></span>';jQuery("#property_type_price_type_field_"+r).html(p),jQuery.ajax({type:"POST",dataType:"json",url:wp_rem_globals.ajax_url,data:"&action=wp_rem_property_type_price_type_field&property_short_counter="+r+"&property_type_slug="+e.value+"&view="+a+"&price_type_switch="+t,success:function(e){jQuery("#property_type_price_type_field_"+r).html(""),jQuery("#property_type_price_type_field_"+r).html(e.html)}})}function wp_rem_property_type_cate_fields(e,r,t,a,o){"use strict";void 0===a&&(a="default"),void 0===o&&(o="none");var p='<b class="spinner-label">'+wp_rem_property_functions_string.property_cats+'</b><span class="cate-spinning"><i class="icon-spinner8"></i></span>';jQuery("#property_type_cate_fields_"+r).html(p),jQuery.ajax({type:"POST",dataType:"json",url:wp_rem_globals.ajax_url,data:"&action=wp_rem_property_type_cate_fields&property_short_counter="+r+"&property_type_slug="+e.value+"&view="+a+"&color="+o+"&cats_switch="+t,success:function(e){jQuery("#property_type_cate_fields_"+r).html(""),jQuery("#property_type_cate_fields_"+r).html(e.html)}})}function wp_rem_empty_loc_polygon(e){jQuery("#frm_property_arg"+e+" input[name=loc_polygon_path]").length&&jQuery("#frm_property_arg"+e+" input[name=loc_polygon_path]").val("")}function wp_rem_property_view_switch(e,r,t,a){"use strict";a=a||"";jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:"&action=wp_rem_property_view_switch&view="+e+"&property_short_counter="+t,success:function(){jQuery('[data-toggle="popover"]').popover(),jQuery("body").addClass("wp-rem-changing-view"),wp_rem_property_content(r,a)}})}function wp_rem_property_pagenation_ajax(e,r,t,a,o){"use strict";o=o||"";jQuery("html, body").animate({scrollTop:jQuery("#wp-rem-property-content-"+t).offset().top-120},1e3),jQuery("#"+e+"-"+t).val(r),"false"==a?wp_rem_property_content_without_filters(t,e,r,a,o):wp_rem_property_content(t,o)}function wp_rem_property_filters_pagenation_ajax(e,r,t,a){"use strict";jQuery("#"+e+"-"+t).val(r),wp_rem_property_filters_content(t,e,r,a)}function wp_rem_property_by_category_filters_pagenation_ajax(e,r,t,a){"use strict";jQuery("#"+e+"-"+t).val(r),wp_rem_property_by_categories_filters_content(t,e,r,a)}function wp_rem_advanced_search_field(e,r,t){"use strict";"simple"==r?(jQuery("#property_type_fields_"+e).slideUp(),jQuery("#nav-tabs-"+e+" li").removeClass("active"),jQuery(t).parent().addClass("active")):"advance"==r?(jQuery("#property_type_fields_"+e).slideDown(),jQuery("#nav-tabs-"+e+" li").removeClass("active"),jQuery(t).parent().addClass("active")):jQuery("#property_type_fields_"+e).slideToggle()}function wp_rem_search_features(e,r){"use strict";jQuery("#property_type_fields_"+r+" .features-field-expand").slideToggle();var t=jQuery("#property_type_fields_"+r+" .features-list .advance-trigger").find("i").attr("class");"icon-plus"==t?(console.log(t),jQuery("#property_type_fields_"+r+" .features-list .advance-trigger").find("i").removeClass(t).addClass("icon-minus")):jQuery("#property_type_fields_"+r+" .features-list .advance-trigger").find("i").removeClass(t).addClass("icon-plus")}function enquiry_sidebar_arrow(){jQuery(".fixed-sidebar-panel.left .sidebar-panel-btn").click(function(e){e.preventDefault(),jQuery("#enquires-sidebar-panel").hasClass("sidebar-panel-open")?jQuery("#enquires-sidebar-panel").removeClass("sidebar-panel-open"):jQuery("#enquires-sidebar-panel").addClass("sidebar-panel-open")}),jQuery("#enquires-sidebar-panel .sidebar-panel-title .sidebar-panel-btn-close").click(function(e){jQuery("#enquires-sidebar-panel").removeClass("sidebar-panel-open")})}function SidbarPanelHeight(){var e=jQuery(window).height();jQuery(".sidebar-properties-list ul").css({"max-height":e-200,"overflow-y":"auto"})}jQuery(document).on("change",".dev-property-list-enquiry-check",function(){var e,r,t,a,o=jQuery(this),p=o.attr("data-id"),i=jQuery("#prop-enquiry-pop-list-box"),n=jQuery("#prop-enquiry-list-all");o.is(":checked")?""==n.val()?n.val(p):(e=n.val()+","+p,n.val(e)):""!=n.val()&&(-1<(a=(t=(r=n.val()).split(",")).indexOf(p))&&(t.splice(a,1),r=t.join(",")),n.val(r)),""!=n.val()?i.show():i.hide(),i.find("#wp_rem_property_id").val(n.val())}),jQuery(document).on("click",".dev-prop-notes-login",function(){jQuery("#sign-in").modal("show"),jQuery("#sign-in").find('div[id^="user-login-tab-"]').addClass("active in"),jQuery("#sign-in").find('div[id^="user-register-"]').removeClass("active in")}),jQuery(document).on("click",".submit-prop-notes",function(){if(0==wp_rem_validation_process(jQuery(".prop-not")))return!1;var e,t,r,a=wp_rem_globals.ajax_url,o=jQuery(this),p=jQuery(this).attr("data-id"),i=jQuery(this).attr("data-rand"),n=jQuery("#prop-notes-text-"+i).val(),s=jQuery("#property-note-"+i);""!=n?(o.prop("disabled",!0),t=jQuery("#prop-notes-model-popup").find(".submit-prop-notes-btn"),wp_rem_show_loader("#prop-notes-model-popup .submit-prop-notes-btn","","button_loader",t),e="adding_notes=true&prop_id="+p+"&prop_notes="+n+"&action=wp_rem_adding_property_notes",jQuery.ajax({url:a,method:"POST",data:e,dataType:"json"}).done(function(e){var r;wp_rem_show_response(e,"",t),o.prop("disabled",!1),"success"==e.type&&(jQuery("#prop-notes-model-popup").find("textarea").val(""),jQuery("#prop-notes-model-popup").modal("toggle"),s.removeAttr("data-toggle"),s.removeAttr("data-target"),s.removeAttr("href"),r='<i class="'+s.attr("data-aftericon")+'"></i><div class="option-content"><span>'+s.attr("data-afterlabel")+"</span></div>",s.html(r))}).fail(function(){o.prop("disabled",!1)})):(t=jQuery("#prop-notes-model-popup").find(".submit-prop-notes-btn"),wp_rem_show_loader("#prop-notes-model-popup .submit-prop-notes-btn","","button_loader",t),r={msg:wp_rem_globals.some_txt_error,type:"error"},wp_rem_show_response(r,"",t))}),jQuery(document).on("click",".property-notes",function(){var e=jQuery(this).attr("data-id"),r=jQuery(this).attr("data-href"),t=jQuery(this).attr("data-title"),a=jQuery(this).attr("data-rand"),o=jQuery("#prop-notes-model-popup");o.find(".modal-header a.property-title-notes").html(t),o.find(".modal-header a.property-title-notes").attr("href",r),o.find(".modal-body .property-notes-error").attr("id","property-notes-error-"+e),o.find(".modal-body textarea").attr("id","prop-notes-text-"+a),o.find(".modal-body input.submit-prop-notes").attr("data-id",e),o.find(".modal-body input.submit-prop-notes").attr("data-rand",a)}),jQuery(document).ready(function(){jQuery(function(){var r=jQuery("input[type=checkbox]");r.on("change",function(){var e=r.filter(":checked").map(function(){return this.id}).get().join(",");jQuery("#hidden_input").val(e)})})}),jQuery(document).on("click",".dev-property-list-enquiry-own-property",function(e){e.stopImmediatePropagation();var r={msg:wp_rem_globals.own_property_error,type:"error"};wp_rem_show_response(r)}),jQuery(document).ready(function(){0<jQuery("#enquires-sidebar-panel").length&&enquiry_sidebar_arrow()}),jQuery(document).on("click",".property-list-enquiry-check",function(){var a=jQuery(this).data("id"),o=jQuery(this);o.hasClass("active")?jQuery('.chosen-enquires-list .sidebar-properties-list ul li[data-id="'+a+'"] .property-item-remove').click():(o.append('<span class="enquiry-loader"><i class="icon-spinner8"></i></span>'),jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:"action=wp_rem_enquiry_list_frontend&property_id="+a+"&add_enquiry=yes",success:function(e){var r,t;o.find(".enquiry-loader").remove(),jQuery(".chosen-enquires-list .sidebar-properties-list ul").append(e),""!=e&&(o.addClass("active"),jQuery(".chosen-enquires-list").hasClass("sidebar-panel-open")||(jQuery("#enquires-sidebar-panel").addClass("sidebar-panel-open"),jQuery("#enquires-sidebar-panel .sidebar-panel-btn").fadeIn("slow")),""==(r=jQuery("#wp_rem_property_id")).val()?r.val(a):(console.log(a),t=r.val()+","+a,r.val(t)))}}))}),jQuery(document).on("click",".chosen-enquires-list .sidebar-properties-list ul li .property-item-remove",function(){var a=jQuery(this),o=a.closest("li").data("id");a.html('<i class="icon-spinner8"></i>'),jQuery('.property-list-enquiry-check[data-id="'+o+'"]').append('<span class="enquiry-loader"><i class="icon-spinner8"></i></span>'),jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:"action=wp_rem_enquiry_list_remove_frontend&property_id="+o,success:function(e){jQuery('.property-list-enquiry-check[data-id="'+o+'"]').find(".enquiry-loader").remove(),jQuery('.property-list-enquiry-check[data-id="'+o+'"]').removeClass("active");var r=jQuery("#wp_rem_property_id").val(),t=r.split(",");t.splice(t.indexOf(o),1),r=t.join(","),jQuery("#wp_rem_property_id").val(r),""==r&&(jQuery("#enquires-sidebar-panel").removeClass("sidebar-panel-open"),jQuery("#enquires-sidebar-panel .sidebar-panel-btn").fadeOut("slow")),a.closest("li").slideUp(400,function(){a.closest("li").remove()})}})}),SidbarPanelHeight(),jQuery(window).resize(function(){SidbarPanelHeight()}),jQuery(document).on("click",".chosen-enquires-list .enquiry-reset-btn",function(){var e=jQuery(this);wp_rem_show_loader(".chosen-enquires-list .enquiry-reset-btn","","button_loader",e),jQuery.ajax({type:"POST",dataType:"HTML",url:wp_rem_globals.ajax_url,data:"action=wp_rem_enquiry_list_clear_frontend",success:function(e){jQuery(".chosen-enquires-list .sidebar-properties-list ul li").remove(),wp_rem_hide_button_loader(".chosen-enquires-list .enquiry-reset-btn"),jQuery(".property-list-enquiry-check").removeClass("active"),jQuery("#wp_rem_property_id").val(""),jQuery("#enquires-sidebar-panel").removeClass("sidebar-panel-open"),jQuery("#enquires-sidebar-panel .sidebar-panel-btn").fadeOut("slow")}})});