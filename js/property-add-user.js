var $=jQuery;!function(){"use strict";jQuery.fn.wp_rem_req_loop=function(r,a){var i=this;return this.each(function(e,t){return r.call(a||t,t,e,i)})}}();var first_time=!0;function change_tab(e,t){"use strict";void 0!==t&&t.stopPropagation();var r,a,i,n=!0,o=$('.property-settings-nav > li a[data-act="'+e+'"]');o.hasClass("cond-property-settings1")&&(r=!0,a=o.data("act"),"property-information"==(i=$(".property-settings-nav > li.active a").data("act"))?r=!!first_time||validate_register_add_property_form($(this).parents("form")):"property-information"==i&&(r=0<$("input[name='wp_rem_property_package']:checked").length||0<$("input[name='wp_rem_property_active_package']:checked").length),i==a||r?($("#property-sets-holder ul.register-add-property-tab-container").hide(),$("."+a+"-tab-container",$("#property-sets-holder")).show()):n=!1),n&&($(o).hasClass("cond-property-settings1")&&$("html,body").animate({scrollTop:0},1e3),first_time&&!o.parent("li").hasClass("cond-property-settings")||($(".property-settings-nav > li").removeClass("processing"),o.parent("li").addClass("active processing"))),first_time=first_time&&!1}function validate_register_add_property_form(e){"use strict";var t=$(e),a=$(e).data("id"),i="valid",n=!1,o="";return t.find(".wp-rem-dev-req-field").wp_rem_req_loop(function(e,t,r){$(e).attr("id")=="terms-"+a?$(e).is(":checked")?$(e).next("label").css({color:"#484848"}):($(e).next("label").css({color:"#ff0000"}),i="invalid"):($(e).is("select")?""!=$("option:selected",$(e)).attr("value")?$(e).next(".chosen-container").css({border:"1px solid #eceef4"}):""==$("option:selected",$(e)).attr("value")&&(i="invalid",$(e).next(".chosen-container").css({border:"1px solid #ff0000"}),o=$(e).parent().parent()):$(e).is("textarea")?""!=$(e).val()?($(e).parents(".jqte").attr("style","border: 1px solid #eceef4 !important;"),$(e).attr("style","border: 1px solid #eceef4 !important;")):""==$(e).val()&&(i="invalid",$(e).parents(".jqte").attr("style","border: 1px solid #ff0000 !important;"),$(e).attr("style","border: 1px solid #ff0000 !important;"),o=$(e).parent().parent()):""!=$(e).val()?($(e).css({border:"1px solid #eceef4"}),$(e).parent().parent().parent().css({border:"none"})):""==$(e).val()&&(i="invalid",o=$(e).hasClass("wp_rem_editor")?($(e).parent().parent().parent().css({border:"1px solid #ff0000"}),$(e).parent().parent().parent()):($(e).css({border:"1px solid #ff0000"}),$(e))),n||""!=o&&($("html, body").animate({scrollTop:$(o).offset().top-100},1e3),n=!0)),$(e).hasClass("usererror")&&(i="invalid",$(e).css({border:"1px solid #ff0000"}))}),"valid"==i}function getParameterByName(e){"use strict";var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function property_pkg_info_show(e,t,r){var a=$("#property-sets-holder").attr("data-doing"),i=$('a[data-act="package"]'),n=$(".wp-rem-dev-property-pckg-info");$.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:{p_price:r,p_type:t,pkg_id:e,action:"wp_rem_show_property_pkg_info"},dataType:"json"}).done(function(e){n.html(e.html),"hide"==e.show_pay?("updating"==a?$("#register-property-order").val(wp_rem_property_strings.update_txt):$("#register-property-order").val(wp_rem_property_strings.create_list_txt),i.html(wp_rem_property_strings.update_txt),$(".register-payment-gw-holder").hide()):($("#register-property-order").val(wp_rem_property_strings.submit_order_txt),i.html(wp_rem_property_strings.payment_txt),$(".register-payment-gw-holder").show())}).fail(function(){})}function property_ajax_pkg_activation_msg(t){var r=$(".wp-rem-dev-property-pckg-info");$.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:{p_pkg:"ajax",action:"wp_rem_show_pkg_activation_msg"},dataType:"json"}).done(function(e){r.html(e.html),r.parents("ul.package-tab-container").find(".btns-section").hide(),0<$("li .check-box-remind input").length&&$(".check-box-remind").closest("li").hide();e={type:"success",msg:wp_rem_property_strings.property_created};wp_rem_show_response(e),t.prop("disabled",!1)}).fail(function(){var e={type:"success",msg:wp_rem_property_strings.property_created};wp_rem_show_response(e),t.prop("disabled",!1)})}function add_event_listners(_,m){"use strict";m("select").trigger("chosen:updated");var l=m("#property-sets-holder").attr("data-doing");function r(e,r,t){var a;m(".wp-rem-dev-payment-form");"do_updating_btn"==t?a=m("."+t):(a=m("input[id='register-property-order']")).length<1&&(a=m("input[type='submit']:last"));var i,n,o=a.val();"do_updating_btn"==t?(i=m(".property-update-dashboard"),wp_rem_show_loader(".property-update-dashboard","","button_loader",i)):(i=jQuery(".wp-rem-property-submit-loader"),wp_rem_show_loader(".wp-rem-property-submit-loader","","button_loader",i)),a.prop("disabled",!0),(n="do_updating_btn"==t?m("."+t).parents(".property-update-dashboard"):jQuery("#register-property-order").parents(".wp-rem-property-submit-process")).addClass("active-ajax");var p=new FormData;m(".wp_rem_dev_property_gallery_images").length&&0<m(".wp_rem_dev_property_gallery_images").prop("files").length&&m.each(m(".wp_rem_dev_property_gallery_images"),function(e,t){m.each(t.files,function(e,t){p.append("wp_rem_property_gallery_images["+e+"]",t)})}),m(".wp_rem_property_floor_images").length&&0<m(".wp_rem_property_floor_images").prop("files").length&&m.each(m(".wp_rem_property_floor_images"),function(e,t){m.each(t.files,function(e,t){p.append("wp_rem_property_floor_images["+e+"]",t)})}),m(".wp_rem_property_ploor_plan_attachment").length&&0<m(".wp_rem_property_ploor_plan_attachment").prop("files").length&&m.each(m(".wp_rem_property_ploor_plan_attachment"),function(e,t){m.each(t.files,function(e,t){p.append("wp_rem_property_ploor_plan_attachment["+e+"]",t)})}),m(".wp_rem_property_attachment_images").length&&0<m(".wp_rem_property_attachment_images").prop("files").length&&m.each(m(".wp_rem_property_attachment_images"),function(e,t){m.each(t.files,function(e,t){p.append("wp_rem_property_attachment_images["+e+"]",t)})});var s=m("form.wp-rem-dev-property-form").serializeArray();function d(t,r,e){var a=m(e).serialize()+"&action=wp_rem_payment_gateways_package_selected";m.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:a,dataType:"json"}).done(function(e){1==e.status&&"wooCommerce"==e.payment_gateway?jQuery("#property-sets-holder").append(e.msg):1==e.status?void 0!==e.payment_gateway&&("WP_REM_PRE_BANK_TRANSFER"==e.payment_gateway?m(".wp-rem-dev-property-form").html(e.msg):(m(".wp-rem-dev-property-form").hide(),m(".payment-process-form-container").html(e.msg).find("form").submit())):(void 0!==e.msg&&jQuery.growl.error({message:e.msg}),m(r).html(t),m(r).prop("disabled",!1))}).fail(function(){m(r).html(t),m(r).prop("disabled",!1)})}m.each(s,function(e,t){p.append(t.name,t.value)}),m.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:p,processData:!1,contentType:!1,dataType:"json"}).done(function(e){var t;if(1==e.status)1==r?"updating"==l?0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length?(m("input[name='trans_id']").val(e.msg),-1<(t=window.location+"").indexOf("?")?t+="&tab=activation":t+="?tab=activation",m("input[name='trans_id']").parent().append('<input type="hidden" name="transaction_return_url" value="'+t+'">'),0<m("input[name='wp_rem_property_active_package']:checked").length||0<m("input[name='wp_rem_property_package']:checked").length&&"free"==m("input[name='wp_rem_property_package']:checked").parents("td").find("a").attr("data-ppric")?(e={type:"success",msg:wp_rem_property_strings.property_updated},wp_rem_show_response(e),a.prop("disabled",!1)):d(o,a,m("form.wp-rem-dev-property-form"))):(e={type:"success",msg:wp_rem_property_strings.property_updated},wp_rem_show_response(e),a.prop("disabled",!1)):(m("input[name='trans_id']").val(e.msg),-1<(t=window.location+"").indexOf("?")?t+="&tab=activation":t+="?tab=activation",m("input[name='trans_id']").parent().append('<input type="hidden" name="transaction_return_url" value="'+t+'">'),0<m("input[name='wp_rem_property_active_package']:checked").length?(e={type:"success",msg:wp_rem_property_strings.property_created},property_ajax_pkg_activation_msg(a)):0<m("input[name='wp_rem_property_package']:checked").length&&"free"==m("input[name='wp_rem_property_package']:checked").parents("td").find("a").attr("data-ppric")?property_ajax_pkg_activation_msg(a):d(o,a,m("form.wp-rem-dev-property-form"))):change_tab("activation",void 0),a.prop("disabled",!1);else if(void 0!==e.msg){e={type:"error",msg:e.msg};return wp_rem_show_response(e),a.prop("disabled",!1),!1}n.removeClass("active-ajax")}).fail(function(){return n.removeClass("active-ajax"),!1})}m(document).on("click",".dir-purchased-packages .dev-property-pakcge-step",function(e){var t=m(this).data("id");m("#package-"+t).prop("checked",!0)}),m(document).on("click",".dev-property-pakcge-step",function(e){e.stopPropagation();var t,r,a=m(this).data("main-id"),i=m(this).data("id"),n=m(this).data("ptype"),o=m(this).data("ppric"),p=m(this).data("picnum"),s=m(this).data("docnum");return validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+a))&&(m("ul.property-photos-tab-container").find(".wp_rem_dev_property_gallery_images").attr("data-count",p),m("ul.property-photos-tab-container").find(".wp_rem_property_attachment_images").attr("data-count",s),t=m('a[data-act="package"]'),0<m("input[name='wp_rem_property_package']:checked").length&&"free"==m("input[name='wp_rem_property_package']:checked").parents("td").find("a").attr("data-ppric")?m("input[name='trans_first_name'], input[name='trans_last_name'], input[name='trans_email'], input[name='trans_phone_number'], textarea[name='trans_address']").removeClass("wp-rem-dev-req-field"):m("input[name='trans_first_name'], input[name='trans_last_name'], input[name='trans_email'], input[name='trans_phone_number'], textarea[name='trans_address']").addClass("wp-rem-dev-req-field"),(0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length)&&"updating"!=l?(m('li[data-act="property-detail-info"]').addClass("active processing"),change_tab("property-detail-info",e)):(0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length)&&"on"!=_.is_property_posting_free&&"updating"==l?(t.html(wp_rem_property_strings.payment_txt),m(".register-payment-gw-holder").show(),m("#register-property-order").val(wp_rem_property_strings.submit_order_txt),m('li[data-act="property-detail-info"]').addClass("active processing"),change_tab("property-detail-info",e)):"updating"==l?(t.html(wp_rem_property_strings.update_txt),m(".register-payment-gw-holder").hide(),m("#register-property-order").val(wp_rem_property_strings.update_txt),m('li[data-act="property-detail-info"]').addClass("active processing"),change_tab("property-detail-info",e)):(r={type:"error",msg:_.package_required_error},wp_rem_show_response(r)),property_pkg_info_show(i,n,o)),!1}),m("#btn-next-property-information").click(function(e){e.stopPropagation();var t,r,a=m(this).data("id");return validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+a))&&(t=m('a[data-act="package"]'),(0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length)&&"updating"!=l?(m('li[data-act="property-detail-info"]').addClass("active processing"),change_tab("property-detail-info",e)):(0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length)&&"on"!=_.is_property_posting_free&&"updating"==l?(t.html(wp_rem_property_strings.payment_txt),m(".register-payment-gw-holder").show(),m("#register-property-order").val(wp_rem_property_strings.submit_order_txt),m('li[data-act="property-detail-info"]').addClass("active processing"),change_tab("property-detail-info",e)):"updating"==l?(t.html(wp_rem_property_strings.update_txt),m(".register-payment-gw-holder").hide(),m("#register-property-order").val(wp_rem_property_strings.update_txt),m('li[data-act="property-detail-info"]').addClass("active processing"),change_tab("property-detail-info",e)):(r={type:"error",msg:_.package_required_error},wp_rem_show_response(r))),!1}),m(document).on("click",".dev-property-pakcge-login-step",function(e){e.stopPropagation();var t,r,a,i,n,o=m(this).data("main-id"),p=m(this).data("id"),s=m(this).data("ptype"),d=m(this).data("ppric"),l=validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+o)),c=m(this).parents("ul#wp-rem-dev-main-con-"+o);return property_pkg_info_show(p,s,d),l&&(0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length||"on"==_.is_property_posting_free?(m("#sign-in").modal("show"),m("#sign-in").find('div[id^="user-login-tab-"]').addClass("active in"),m("#sign-in").find('div[id^="user-register-"]').removeClass("active in"),t=c.find('input[name="wp_rem_property_type"]:checked').val(),a=r="",0<c.find("ul.property-cats-list").find("li").length&&(r=c.find("ul.property-cats-list").find("li input:checked").val(),0<c.find(".wp_rem_property_category_field").find("select").length&&(a=c.find(".wp_rem_property_category_field").find("select").val())),i="",0<c.find('input[name="wp_rem_property_package"]').length&&(i=c.find('input[name="wp_rem_property_package"]:checked').val()),0<c.find('input[name="wp_rem_property_active_package"]').length&&(i=c.find('input[name="wp_rem_property_active_package"]:checked').val()),m.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:{login_type:"create_property",login_property_type:t,login_property_categ:r,login_property_sub_categ:a,login_property_pkge:i,action:"wp_rem_create_property_login"},dataType:"json"}).done(function(){})):(n={type:"error",msg:_.package_required_error},wp_rem_show_response(n))),!1}),m("#btn-next-user-login").click(function(e){e.stopPropagation();var t,r,a,i,n,o=m(this).data("id"),p=validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+o)),s=m(this).parents("ul#wp-rem-dev-main-con-"+o);return p&&(0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length||"on"==_.is_property_posting_free?(m("#sign-in").modal("show"),m("#sign-in").find('div[id^="user-login-tab-"]').addClass("active in"),m("#sign-in").find('div[id^="user-register-"]').removeClass("active in"),t=s.find('input[name="wp_rem_property_type"]:checked').val(),a=r="",0<s.find("ul.property-cats-list").find("li").length&&(r=s.find("ul.property-cats-list").find("li input:checked").val(),0<s.find(".wp_rem_property_category_field").find("select").length&&(a=s.find(".wp_rem_property_category_field").find("select").val())),i="",0<s.find('input[name="wp_rem_property_package"]').length&&(i=s.find('input[name="wp_rem_property_package"]:checked').val()),0<s.find('input[name="wp_rem_property_active_package"]').length&&(i=s.find('input[name="wp_rem_property_active_package"]:checked').val()),m.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:{login_type:"create_property",login_property_type:t,login_property_categ:r,login_property_sub_categ:a,login_property_pkge:i,action:"wp_rem_create_property_login"},dataType:"json"}).done(function(){})):(n={type:"error",msg:_.package_required_error},wp_rem_show_response(n))),!1}),m("#btn-back-property-detail").click(function(e){return change_tab("property-information",e),m('li[data-act="property-detail-info"]').removeClass("active processing"),!1}),m("#btn-next-property-detail").click(function(e){var t=m(this).data("id");return validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+t))&&(change_tab("advance-options",e),m('li[data-act="advance-options"]').addClass("active processing")),!1}),m("#btn-back-advance-options").click(function(e){return change_tab("property-detail-info",e),m('li[data-act="advance-options"]').removeClass("active processing"),!1}),m("#btn-next-advance-options").click(function(e){var t=m(this).data("id"),r=m(".wp-rem-dev-select-type:checked").attr("data-loc");return validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+t))&&("off"==r?(change_tab("property-photos",e),m('li[data-act="loc-address"]').addClass("active")):change_tab("loc-address",e)),!1}),m("#btn-back-loc-address").click(function(e){return change_tab("advance-options",e),m('li[data-act="loc-address"]').removeClass("active processing"),!1}),m("#btn-next-loc-address").click(function(e){var t=m(this).data("id");return validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+t))&&change_tab("property-photos",e),!1}),m("#btn-back-property-photos").click(function(e){return"off"==m(".wp-rem-dev-select-type:checked").attr("data-loc")?(change_tab("advance-options",e),m('li[data-act="loc-address"]').removeClass("active")):change_tab("loc-address",e),m('li[data-act="property-photos"]').removeClass("active processing"),!1}),m("#btn-next-property-photos").click(function(e){var t=m(this).data("id");return validate_register_add_property_form(m(this).parents("ul#wp-rem-dev-main-con-"+t))&&("on"==_.is_property_posting_free?r(0,!1,""):change_tab("package",e)),!1}),m("#btn-next-package").click(function(e){var t;return e.stopPropagation(),0<m("input[name='wp_rem_property_package']:checked").length||0<m("input[name='wp_rem_property_active_package']:checked").length||"on"==_.is_property_posting_free?change_tab("payment-information",e):(t={type:"error",msg:_.package_required_error},wp_rem_show_response(t)),!1}),m(".wp-rem-dev-payment-form input[type='submit']").prop("disabled",!1),m(document).on("click","#register-property-order",function(e){e.stopPropagation();var t="false";if((0<m("input[name='wp_rem_property_package']:checked").length&&"free"==m("input[name='wp_rem_property_package']:checked").parents("td").find("a").attr("data-ppric")||0<m("input[name='wp_rem_property_active_package']:checked").length&&"free"==m("input[name='wp_rem_property_active_package']:checked").parents("td").find("a").attr("data-ppric")||0<m(".dir-purchased-packages input[name='wp_rem_property_active_package']:checked").length&&"free"==m(".dir-purchased-packages input[name='wp_rem_property_active_package']:checked").attr("data-ppric")||0===m("input[name='wp_rem_property_package']:checked").length&&0===m("input[name='wp_rem_property_active_package']:checked").length)&&(t="true"),"updating"==l&&"true"!=t){if(0==wp_rem_validation_process(jQuery(".wp-rem-dev-payment-form")))return!1}else if("updating"!=l&&"true"!=t){if(0==wp_rem_validation_process(jQuery(".wp-rem-dev-payment-form")))return!1}return r(0,!0,""),!1}),m(document).on("click",".do_updating_btn",function(e){return e.stopPropagation(),r(0,!0,"do_updating_btn"),!1}),m("#btn-back-package").click(function(e){return e.stopPropagation(),change_tab("property-photos",e),m('li[data-act="package"]').removeClass("active processing"),!1}),m("#btn-back-payment-information").click(function(e){return e.stopPropagation(),change_tab("package",e),!1})}function wp_rem_property_price_calculating(e,t){"use strict";var r,a;a="type"==t?(r=$("#wp_rem_property_price").val(),e.val()):(r=e.val(),$("#wp_rem_price_type").val());var i,n=$("#wp-rem-property-calculating-price"),o=$("#wp_rem_property_price_type_toggle").find(".price-loader");("variant_month"==a||"variant_week"==a)&&0<r?(o.show(),o.html('<div class="loader-holder"><img src="'+wp_rem_property_strings.plugin_url+'assets/frontend/images/ajax-loader.gif" alt=""></div>'),i="price="+r+"&price_type="+a+"&action=wp_rem_property_price_calculating",jQuery.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:i,dataType:"json"}).done(function(e){n.html(e.price),n.show(),o.html(""),o.hide()}).fail(function(){n.html(""),n.hide(),o.html(""),o.hide()})):n.hide()}function wp_rem_handle_file_single_select(e,r){"use strict";if(window.File&&window.FileList&&window.FileReader)for(var t=e.target.files,a=!0,i=0;i<t.length;i++){var n,o=t[i];o.type.match("image")||(jQuery.growl.error({message:wp_rem_property_strings.upload_images_only}),a=!1),!0===a&&((n=new FileReader).addEventListener("load",function(e){var t=e.target;t.result&&(document.getElementById("featured-placeholder-"+r).style.display="none",0<jQuery("#wp-rem-dev-featured-img-"+r).children().length?($("#wp-rem-dev-featured-img-"+r+" img").attr("src",t.result),$("#wp-rem-dev-featured-img-"+r+" img").attr("title",t.name),$("#wp-rem-dev-featured-img-"+r+" input").val("")):document.getElementById("wp-rem-dev-featured-img-"+r).innerHTML+='                            <li class="gal-img">                                <div class="drag-list">                                    <div class="item-thumb"><img class="thumbnail" src="'+t.result+'" + "title="'+t.name+'"/></div>                                    <div class="item-assts">                                        <ul class="list-inline pull-right">                                            <li class="drag-btn"><a href="javascript:void(0);"><i class="icon-bars"></i></a></li>                                            <li class="close-btn"><a href="javascript:void(0);"><i class="icon-cross"></i></a></li>                                        </ul>                                    </div>                                </div>                            </li>')}),n.readAsDataURL(o))}else jQuery.growl.error({message:"Your browser does not support File API"})}function wp_rem_handle_file_single_select_video(e,r){"use strict";if(window.File&&window.FileList&&window.FileReader)for(var t=e.target.files,a=!0,i=0;i<t.length;i++){var n,o=t[i];o.type.match("image")||(jQuery.growl.error({message:wp_rem_property_strings.upload_images_only}),a=!1),!0===a&&((n=new FileReader).addEventListener("load",function(e){var t=e.target;t.result&&(document.getElementById("video-placeholder-"+r).style.display="none",0<jQuery("#wp-rem-dev-video-img-"+r).children().length?($("#wp-rem-dev-video-img-"+r+" img").attr("src",t.result),$("#wp-rem-dev-video-img-"+r+" img").attr("title",t.name),$("#wp-rem-dev-video-img-"+r+" input").val("")):document.getElementById("wp-rem-dev-video-img-"+r).innerHTML+='                            <li class="gal-img">                                <div class="drag-list">                                    <div class="item-thumb"><img class="thumbnail" src="'+t.result+'" + "title="'+t.name+'"/></div>                                    <div class="item-assts">                                        <ul class="list-inline pull-right">                                            <li class="drag-btn"><a href="javascript:void(0);"><i class="icon-bars"></i></a></li>                                            <li class="close-btn"><a href="javascript:void(0);"><i class="icon-cross"></i></a></li>                                        </ul>                                    </div>                                </div>                            </li>')}),n.readAsDataURL(o))}else jQuery.growl.error({message:"Your browser does not support File API"})}function wp_rem_handle_file_select(e,r){"use strict";if(window.File&&window.FileList&&window.FileReader){var t=e.target.files,a=!0,i=$("#wp-rem-dev-gal-attach-sec-"+r).find("li.gal-img").length+t.length,n=$("#image-uploader-"+r).attr("data-count");if(0==n&&(n=$(".dev-property-pakcge-step").data("picnum"),$("#image-uploader-"+r).attr("data-count",n)),i<=n)for(var o=0;o<t.length;o++){var p,s=t[o];s.type.match("image")||(jQuery.growl.error({message:wp_rem_property_strings.upload_images_only}),a=!1),!0===a&&((p=new FileReader).addEventListener("load",function(e){var t=e.target;t.result&&(document.getElementById("wp-rem-dev-gal-attach-sec-"+r).innerHTML='                            <li class="gal-img">                                <div class="drag-list">                                    <div class="item-thumb"><img class="thumbnail" src="'+t.result+'" alt=""/></div>                                    <div class="item-assts">                                        <div class="list-inline pull-right">                                            <div class="close-btn" data-id="'+r+'"><a href="javascript:void(0);"><i class="icon-cross"></i></a></div>                                        </div>                                    </div>                                </div>                            </li>'+document.getElementById("wp-rem-dev-gal-attach-sec-"+r).innerHTML),$("#wp-rem-dev-gal-attach-sec-"+r).sortable({handle:".drag-list",cursor:"move"})}),p.readAsDataURL(s))}else jQuery.growl.error({message:wp_rem_property_strings.more_than_f+" "+n+" "+wp_rem_property_strings.more_than_image_change})}else jQuery.growl.error({message:"Your browser does not support File API"})}function wp_rem_handle_attach_file_select(e,t){"use strict";if(window.File&&window.FileList&&window.FileReader){var r=e.target.files,a=$("#wp-rem-dev-docs-attach-sec-"+t).find("li.gal-img").length+r.length,i=$("#attachment-uploader-"+t).attr("data-count");0==i&&(i=$(".dev-property-pakcge-step").data("docnum"),$("#attachment-uploader-"+t).attr("data-count",i));var n=$("#wp-rem-dev-docs-attach-sec-"+t).data("ext-error"),o=(o=$("#wp-rem-dev-docs-attach-sec-"+t).data("allow-ext")).split(","),p=!1;if(a<=i){for(var s=0;s<r.length;s++){var d,l,c,_=r[s].name.split(".").pop().toLowerCase();-1==jQuery.inArray(_,o)?p=!0:(l='<div class="modal fade modal-form" id="add-attachment-data-'+(d=Math.floor(999999*Math.random()+99))+'" tabindex="-1" role="dialog">                        <div class="modal-dialog" role="document">                            <div class="modal-content">                                <div class="modal-header">                                    <button type="button" class="close close-faq" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>                                    <h4 class="modal-title" id="faqModalLabel">'+wp_rem_property_strings.wp_rem_edit_details+'</h4>                                </div>                                <div class="modal-body">                                    <div class="row">                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">                                            <div class="field-holder">                                                <input type="text" placeholder="Title *" class="form-control" id="wp_rem_property_attachment_title" name="wp_rem_property_attachment_title[]"></div>                                        </div>                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">                                            <div class="field-holder faq-request-holder input-button-loader">                                                <input type="button" class="bgcolor wp_rem_add_attachment_data" name="add_attachment_data" data-id="'+d+'" value="'+wp_rem_property_strings.wp_rem_edit_details_update+'"></div>                                        </div>                                    </div>                                </div>                            </div>                        </div>                    </div>',c=wp_rem_property_strings.plugin_url+"/assets/common/attachment-images/attach-"+_+".png",document.getElementById("wp-rem-dev-docs-attach-sec-"+t).innerHTML='                    <li class="gal-img">                        <div class="drag-list">                            <div class="item-thumb"><a data-target="#add-attachment-data-'+d+'" data-toggle="modal" class="edit-attachment-btn  edit-btn-link" href="javascript:void(0);"><i class="icon-mode_edit"></i></a><img class="thumbnail" src="'+c+'" alt=""/>                            <div class="attachment-data-link-'+d+' block-popup-data"></div>                            </div>                            <div class="item-assts">                                <div class="list-inline pull-right">                                    <div class="close-btn" data-id="'+t+'"><a href="javascript:void(0);"><i class="icon-cross"></i></a></div>                                </div>                            </div>                        </div>                    '+l+"</li>"+document.getElementById("wp-rem-dev-docs-attach-sec-"+t).innerHTML,$("#wp-rem-dev-docs-attach-sec-"+t).sortable({handle:".drag-list",cursor:"move",items:".gal-img"}))}if(!0===p)return jQuery.growl.error({message:n}),!1}else jQuery.growl.error({message:wp_rem_property_strings.more_than_f+" "+i+" "+wp_rem_property_strings.more_than_doc_change})}else jQuery.growl.error({message:"Your browser does not support File API"})}function wp_rem_handle_floor_file_select(e,i){"use strict";if(window.File&&window.FileList&&window.FileReader)for(var t=e.target.files,r=!0,a=0;a<t.length;a++){var n,o=t[a];o.type.match("image")||(jQuery.growl.error({message:wp_rem_property_strings.upload_images_only}),r=!1),!0===r&&((n=new FileReader).addEventListener("load",function(e){var t,r,a=e.target;a.result&&(r='<div class="modal fade modal-form" id="add-floor-image-data-'+(t=Math.floor(e.timeStamp))+'" tabindex="-1" role="dialog">                <div class="modal-dialog" role="document">                    <div class="modal-content">                        <div class="modal-header">                            <button type="button" class="close close-faq" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>                            <h4 class="modal-title" id="faqModalLabel">'+wp_rem_property_strings.wp_rem_edit_details+'</h4>                        </div>                        <div class="modal-body">                            <div class="row">                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">                                    <div class="field-holder">                                        <input type="text" placeholder="Title *" class="form-control" id="wp_rem_property_floor_plan_title" name="wp_rem_property_floor_plan_title[]"></div>                                </div>                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">                                    <div class="field-holder">                                        <textarea placeholder="Description *" class="form-control" rows="5" cols="30" id="wp_rem_property_floor_plan_desc" name="wp_rem_property_floor_plan_desc[]"></textarea></div>                                </div>                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">                                    <div class="field-holder faq-request-holder input-button-loader">                                        <input type="button" class="bgcolor wp_rem_add_floor_plan_data" name="add_floor_plan_data" data-id="'+t+'" value="'+wp_rem_property_strings.wp_rem_edit_details_update+'"></div>                                </div>                            </div>                        </div>                    </div>                </div>            </div>',document.getElementById("wp-rem-dev-floor-attach-sec-"+i).innerHTML='                        <li class="gal-img">                            <div class="drag-list">                                <div class="item-thumb">\n                                <a data-target="#add-floor-image-data-'+t+'" data-toggle="modal" class="edit-floor-data-btn edit-btn-link" href="javascript:void(0);"><i class="icon-mode_edit"></i></a><img class="thumbnail" src="'+a.result+'" alt=""/>                                <div class="add-floor-data-link-'+t+' block-popup-data"></div>                                </div>                                <div class="item-assts">                                    <div class="list-inline pull-right">                                        <div class="close-btn" data-id="'+i+'"><a href="javascript:void(0);"><i class="icon-cross"></i></a></div>                                    </div>                                </div>                            </div>                        '+r+"</li>"+document.getElementById("wp-rem-dev-floor-attach-sec-"+i).innerHTML),$("#wp-rem-dev-floor-attach-sec-"+i).sortable({handle:".drag-list",cursor:"move"})}),n.readAsDataURL(o))}else jQuery.growl.error({message:"Your browser does not support File API"})}$(document).ready(function(e,t){"use strict";var r;""!=e(".selectpicker").length&&e(".selectpicker").selectpicker({size:5}),""!=e(".service-list").length&&(r=0,setInterval(function(){1===++r&&e(".service-list > ul").sortable({handle:".drag-option",cursor:"move"})},500)),""!=e(".floor-plan-list").length&&(r=0,setInterval(function(){1===++r&&e(".floor-plan-list > ul").sortable({handle:".drag-option",cursor:"move"})},500))}),$(document).on("submit","form.wp-rem-dev-payment-form",function(){"use strict";return 0!=wp_rem_validation_process(jQuery(".wp-rem-dev-payment-form"))&&validate_register_add_property_form(this)}),$(document).on("submit","form.wp-rem-dev-property-form",function(){"use strict";if(0==wp_rem_validation_process(jQuery(".wp-rem-dev-property-form")))return!1;var e=jQuery("#update-property-holder");return wp_rem_show_loader("#update-property-holder","","button_loader",e),validate_register_add_property_form(this)}),$(document).on("click",".property-settings-nav > li.cond-property-settings",function(e){change_tab($(this).data("act"),e)}),$(document).on("click",".cond-property-settings",function(){"use strict";var e,t=$(this),a=t.data("act"),r=t.parents("ul").data("mcounter"),i=t.parents("ul").data("property"),n=wp_rem_property_strings.ajax_url;void 0!==a&&""!=a&&(e="property_show_set_"+a,wp_rem_show_loader(".loader-holder"),$.ajax({url:n,method:"POST",data:{set_type:a,_main_counter:r,property_id:i,action:e},dataType:"json"}).done(function(e){$("#property-sets-holder").html(e.html),chosen_selectionbox();var t="tab=add-property&property_id="+i+"&property_tab="+a,r=location.protocol+"//"+location.host+location.pathname+"?"+t;window.history.pushState(null,null,decodeURIComponent(r)),wp_rem_hide_loader()}).fail(function(){wp_rem_hide_loader()}))}),$(document).on("change",".wp-rem-dev-username, .wp-rem-dev-user-email",function(){"use strict";var t,r=$(this),e=$(this).data("id"),a=$(this).data("type"),i=$(this).val(),n=(wp_rem_property_strings.ajax_url,wp_rem_property_strings.plugin_url),o="username"==a?$("#wp-rem-dev-user-signup-"+e).find(".wp-rem-dev-username-check"):$("#wp-rem-dev-user-signup-"+e).find(".wp-rem-dev-useremail-check");o.html('<div class="loader-holder" style="width:18px;"><img src="'+n+'assets/frontend/images/ajax-loader.gif" alt=""></div>'),$.ajax({url:wp_rem_globals.ajax_url,method:"POST",data:{field_type:a,field_val:i,property_add_counter:e,action:"wp_rem_property_user_authentication"},dataType:"json"}).done(function(e){void 0!==e.action&&"true"==e.action?(t="green",r.css({border:"1px solid #cccccc"}),r.removeClass("usererror"),r.removeClass("frontend-field-error")):(t="red",r.css({border:"1px solid #ff0000"}),r.addClass("usererror")),void 0!==e.msg&&""!=e.msg?o.html('<em style="color:'+t+';">'+e.msg+"</em>"):o.html('<em style="color:'+t+';">'+wp_rem_property_strings.action_error+"</em>")}).fail(function(){o.html(wp_rem_property_strings.action_error)})}),0<$(".wp-rem-dev-username").length&&0<$(".wp-rem-dev-username").val().length&&$(".wp-rem-dev-username").trigger("change"),0<$(".wp-rem-dev-user-email").length&&0<$(".wp-rem-dev-user-email").val().length&&$(".wp-rem-dev-user-email").trigger("change"),$(document).on("click",".cus-num-field .btn-decrementmin-num",function(){"use strict";var e,t=$(this).parents(".cus-num-field").find("input");0<t.val()?(e=parseInt(t.val())-1,t.val(e)):t.val(0)}),$(document).on("click",".cus-num-field .btn-incrementmin-num",function(){"use strict";var e,t=$(this).parents(".cus-num-field").find("input");$.isNumeric(t.val())?(e=parseInt(t.val())+1,t.val(e)):t.val(0)}),$(document).on("click",".wp-rem-dev-select-type",function(){"use strict";var e=$(this).data("id"),t=$(this).val(),r=wp_rem_property_strings.ajax_url,a=$("#wp-rem-dev-cf-con"),i=$("#wp-rem-proprty-tags-holder"),n=$(".wp-rem-dev-appended-cats"),o=$(".wp-rem-dev-appended-price"),p=$(".wp-rem-append-features-check-list"),s=$("#property-membership-info-main"),d=$(".loc-address-tab-container"),l=$(this).parent(".type-holder-main");l.addClass("active-ajax"),$.ajax({url:r,method:"POST",data:"select_type="+t+"&p_property_typ="+t+"&property_add_counter="+e+"&action=wp_rem_property_load_cf_cats",dataType:"json"}).done(function(e){d.find(".wp-rem-dev-appended").remove(),void 0!==e.loc_html&&d.prepend(e.loc_html),void 0!==e.features_html&&p.html(e.features_html),void 0!==e.cf_html&&a.html(e.cf_html),void 0!==e.cats_html&&n.html(e.cats_html),void 0!==e.price_html&&o.html(e.price_html),void 0!==e.pckgs_html&&s.html(e.pckgs_html),void 0!==e.tags_html&&i.html(e.tags_html),"on"==e.detail_options.gallery?jQuery("#wp-rem-property-gallery-holder").show():jQuery("#wp-rem-property-gallery-holder").hide(),"on"==e.detail_options.attachments?jQuery("#wp-rem-property-attachments-holder").show():jQuery("#wp-rem-property-attachments-holder").hide(),"on"==e.detail_options.yelp_places?jQuery("#wp-rem-property-yelp-places-holder").show():jQuery("#wp-rem-property-yelp-places-holder").hide(),"on"==e.detail_options.floor_plans?jQuery("#wp-rem-property-floor-plans-holder").show():jQuery("#wp-rem-property-floor-plans-holder").hide(),"on"==e.detail_options.appartments?jQuery("#wp-rem-property-appartments-holder").show():jQuery("#wp-rem-property-appartments-holder").hide(),"on"==e.detail_options.features?jQuery("#wp-rem-property-features-holder").show():jQuery("#wp-rem-property-features-holder").hide(),"on"==e.detail_options.video?jQuery("#wp-rem-property-video-holder").show():jQuery("#wp-rem-property-video-holder").hide(),"on"==e.detail_options.virtual_tour?jQuery("#wp-rem-property-virtual-tour-holder").show():jQuery("#wp-rem-property-virtual-tour-holder").hide(),"on"==e.detail_options.faqs?jQuery("#wp-rem-property-faqs-holder").show():jQuery("#wp-rem-property-faqs-holder").hide(),l.removeClass("active-ajax")}).fail(function(){l.removeClass("active-ajax")})}),$(document).on("click",".property-pkg-select",function(){var e=$(this).data("id");$(".pkg-selected").hide(),$("#package-"+e).prop("checked",!0),$("#pkg-selected-"+e).show()}),$(document).on("click",".property-radios li",function(){var e=$(this);e.parents("ul").find("li").removeAttr("class"),e.addClass("active")}),$(document).on("click",".browse-attach-icon-img",function(){var e=$(this).attr("data-id");$("#browse-attach-icon-img-"+e).trigger("click")}),$(document).on("click",".browse-floor-icon-img",function(){var e=$(this).attr("data-id");$("#browse-floor-icon-img-"+e).trigger("click")}),$(document).on("click",'a[id^="wp-rem-dev-add-floor-plan-"]',function(){"use strict";$(this);var t,r,e,a=$(this).data("id"),i=wp_rem_property_strings.ajax_url,n=(wp_rem_property_strings.plugin_url,$("#wp-rem-dev-insert-floor-plan-con-"+a)),o=n.find(".floor-plan-title"),p=n.find(".floor-plan-desc"),s=$("#wp-rem-dev-add-floor-plan-app-"+a),d=s.find("#no-floor-plan-"+a);$("#dev-floor-plans-loader-"+a),$("#wp-rem-dev-act-msg-"+a);void 0!==o&&""!=o.val()?(t=jQuery("#wp-rem-dev-add-floor-plan-"+a),wp_rem_show_loader("#wp-rem-dev-add-floor-plan-"+a,"","button_loader",t),r=new FormData,$.each($("input.floor-plan-image")[0].files,function(e,t){r.append(e,t)}),r.append("title_field",o.val()),r.append("desc_field",p.val()),r.append("property_add_counter",a),r.append("action","wp_rem_property_floor_plan_to_list"),$.ajax({url:i,method:"POST",data:r,cache:!1,dataType:"json",processData:!1,contentType:!1}).done(function(e){void 0!==e.html&&(d.remove(),s.append(e.html),o.val(""),$("#wp-rem-dev-insert-floor-plan-con-"+a).find(".icons-selector .selector .selected-icon > i").removeAttr("class"),$("#wp-rem-dev-insert-floor-plan-con-"+a).find(".icons-selector .selector .selected-icon > i").addClass("icon-cancel2"),p.val(""),n.find("img.floor-plan-image-viewer").attr("src",""),n.find("input.floor-plan-image").val(""),$("#wp-rem-dev-insert-floor-plan-con-"+a).find(".jqte_editor").html("")),jQuery(".service-list").find(".wp_rem_editor").jqte({sub:!1,sup:!1,indent:!1,outdent:!1,unlink:!1,format:!1,color:!1,left:!1,right:!1,center:!1,strike:!1,rule:!1,fsize:!1});e={type:"success",msg:wp_rem_property_strings.ploor_plan_added};wp_rem_show_response(e,"",t),$("#wp-rem-dev-insert-floor-plan-con-"+a).slideUp()}).fail(function(){wp_rem_show_response("","",t)})):(e={type:"error",msg:wp_rem_property_strings.compulsory_fields},wp_rem_show_response(e))}),$(document).on("change","input.floor-plan-image",function(){var e;this.files&&this.files[0]&&((e=new FileReader).onload=function(e){$("img.floor-plan-image-viewer").attr("src",e.target.result)},e.readAsDataURL(this.files[0]),$(".floor-plan-image-viewer-holder").show())}),$(document).on("click",".remove-this-floor-plan",function(){$(this).parent(".info-holder").slideUp()}),$(document).on("keyup","#wp_rem_property_price",function(){"use strict";wp_rem_property_price_calculating($(this),"price")}),$(document).on("change","#wp_rem_price_type",function(){"use strict";wp_rem_property_price_calculating($(this),"type")}),$(document).on("click",'a[id^="wp-rem-dev-add-near-by-"]',function(){"use strict";$(this);var t,r,e,a=$(this).data("id"),i=wp_rem_property_strings.ajax_url,n=(wp_rem_property_strings.plugin_url,$("#wp-rem-dev-insert-near-by-con-"+a)),o=n.find(".near-by-title"),p=n.find(".near-by-desc"),s=$("#wp-rem-dev-add-near-by-app-"+a),d=s.find("#no-near-by-"+a);$("#dev-near-by-loader-"+a),$("#wp-rem-dev-act-msg-"+a);void 0!==o&&""!=o.val()?(t=jQuery("#wp-rem-dev-add-near-by-"+a),wp_rem_show_loader("#wp-rem-dev-add-near-by-"+a,"","button_loader",t),r=new FormData,$.each($("input.near-by-image")[0].files,function(e,t){r.append(e,t)}),r.append("title_field",o.val()),r.append("desc_field",p.val()),r.append("property_add_counter",a),r.append("action","wp_rem_property_near_by_to_list"),$.ajax({url:i,method:"POST",data:r,cache:!1,dataType:"json",processData:!1,contentType:!1}).done(function(e){void 0!==e.html&&(d.remove(),s.append(e.html),o.val(""),$("#wp-rem-dev-insert-near-by-con-"+a).find(".icons-selector .selector .selected-icon > i").removeAttr("class"),$("#wp-rem-dev-insert-near-by-con-"+a).find(".icons-selector .selector .selected-icon > i").addClass("icon-cancel2"),p.val(""),n.find("img.near-by-image-viewer").attr("src",""),n.find("input.near-by-image").val(""),$("#wp-rem-dev-insert-near-by-con-"+a).find(".jqte_editor").html(""));e={type:"success",msg:wp_rem_property_strings.nearby_added};wp_rem_show_response(e,"",t),$("#wp-rem-dev-insert-near-by-con-"+a).slideUp()}).fail(function(){wp_rem_show_response("","",t)})):(e={type:"error",msg:wp_rem_property_strings.compulsory_fields},wp_rem_show_response(e))}),$(document).on("change","input.near-by-image",function(){"use strict";var e;this.files&&this.files[0]&&((e=new FileReader).onload=function(e){$("img.near-by-image-viewer").attr("src",e.target.result).width(150).height(150)},e.readAsDataURL(this.files[0]),$("img.near-by-image-viewer").show())}),$(document).on("click",".remove-this-near-by",function(){$(this).parent(".info-holder").slideUp()}),$(document).on("click",".wp-rem-dev-insert-off-days .wp-rem-dev-calendar-days .day a",function(){"use strict";$(this);var t,r=$(this).parents(".wp-rem-dev-insert-off-days").data("id"),e=wp_rem_property_strings.ajax_url,a=(wp_rem_property_strings.plugin_url,$(this).data("day")),i=$(this).data("month"),n=$(this).data("year"),o=n+"-"+i+"-"+a,p=!0,s=$("#wp-rem-dev-add-off-day-app-"+r),d=s.find("#no-book-day-"+r),l=($("#dev-off-day-loader-"+r),$("#wp-rem-dev-act-msg-"+r));s.find("li").each(function(){var e,t=$(this).find('input[name^="wp_rem_property_off_days"]');o==t.val()&&(e={type:"success",msg:wp_rem_property_strings.off_day_already_added},wp_rem_show_response(e),p=!1)}),void 0!==a&&void 0!==i&&void 0!==n&&!0===p&&(t=jQuery(".book-btn"),wp_rem_show_loader(".book-btn","","button_loader",t),$.ajax({url:e,method:"POST",data:{off_day_day:a,off_day_month:i,off_day_year:n,property_add_counter:r,action:"wp_rem_property_off_day_to_list"},dataType:"json"}).done(function(e){void 0!==e.html&&(d.remove(),s.append(e.html),l.html(wp_rem_property_strings.off_day_added));e={type:"success",msg:wp_rem_property_strings.off_day_added};wp_rem_show_response(e,"",t),$("#wp-rem-dev-cal-holder-"+r).slideUp("fast")}).fail(function(){wp_rem_show_response("","",t)}))}),$(document).on("click",'div[id^="wp-rem-dev-tag-info"] button',function(){var e=$(this).data("id"),t=$("#wp-rem-dev-tag-info-"+e).find("input"),r=$("#wp-rem-dev-tag-info-"+e).find("input").val(),a=$("#tag-cloud-"+e),i=a.find("#no-tag-"+e),n='<li class="tag-cloud">'+r+'<input type="hidden" name="wp_rem_tags[]" value="'+r+'"></li>';void 0!==r&&""!=r&&(i.remove(),a.append(n),t.val(""))}),$(document).on("click",'a[id^="wp-rem-dev-open-time"]',function(){var e=$(this).data("id"),t=$(this).data("day"),r=$("#open-close-con-"+t+"-"+e),a=$("#wp-rem-dev-open-day-"+t+"-"+e);void 0!==e&&void 0!==t&&(a.val("on"),r.addClass("opening-time"))}),$(document).on("click",'a[id^="wp-rem-dev-close-time"]',function(){var e=$(this).data("id"),t=$(this).data("day"),r=$("#open-close-con-"+t+"-"+e),a=$("#wp-rem-dev-open-day-"+t+"-"+e);void 0!==e&&void 0!==t&&(a.val(""),r.removeClass("opening-time"))}),$(document).on("click",'a[id^="wp-rem-dev-floor-plan-edit-"]',function(){var e=$(this).data("id"),t=$("#wp-rem-dev-floor-plan-edit-con-"+e);t.slideToggle(),t.find(".floor-plan-desc").jqte({sub:!1,sup:!1,indent:!1,outdent:!1,unlink:!1,format:!1,color:!1,left:!1,right:!1,center:!1,strike:!1,rule:!1,fsize:!1})}),$(document).on("click",'a[id^="wp-rem-dev-near-by-edit-"]',function(){var e=$(this).data("id");$("#wp-rem-dev-near-by-edit-con-"+e).slideToggle()}),$(document).on("click",'a[id^="wp-rem-dev-insert-floor-plan-"]',function(){"use strict";var e=$(this).data("id"),t=$("#wp-rem-dev-insert-floor-plan-con-"+e);t.slideToggle(),t.find(".wp_rem_editor").jqte({sub:!1,sup:!1,indent:!1,outdent:!1,unlink:!1,format:!1,color:!1,left:!1,right:!1,center:!1,strike:!1,rule:!1,fsize:!1})}),$(document).on("click",'a[id^="wp-rem-dev-insert-near-by-"]',function(){"use strict";var e=$(this).data("id"),t=$("#wp-rem-dev-insert-near-by-con-"+e);t.slideToggle(),t.find(".wp_rem_editor").jqte({sub:!1,sup:!1,indent:!1,outdent:!1,unlink:!1,format:!1,color:!1,left:!1,right:!1,center:!1,strike:!1,rule:!1,fsize:!1})}),$(document).on("click",'a[id^="wp-rem-dev-floor-plan-save-"]',function(){"use strict";var t=$(this).data("id"),r=$("#wp-rem-dev-floor-plan-edit-con-"+t),e=r.find(".floor-plan-title").val(),a=jQuery("#wp-rem-dev-floor-plan-save-"+t);wp_rem_show_loader("#wp-rem-dev-floor-plan-save-"+t,"","button_loader",a);var i,n=r.find('input[type="file"]')[0];n.files&&n.files[0]&&((i=new FileReader).onload=function(e){r.find("img").attr("src",e.target.result),$("#floor-plan-image-"+t+" img").attr("src",e.target.result)},i.readAsDataURL(n.files[0])),$("#floor-plan-title-"+t).html("<h6>"+e+"</h6>"),setTimeout(function(){wp_rem_show_response("","",a),r.slideUp()},500)}),$(document).on("click",'a[id^="wp-rem-dev-near-by-save-"]',function(){"use strict";var t=$(this).data("id"),r=$("#wp-rem-dev-near-by-edit-con-"+t),e=r.find(".near-by-title").val(),a=jQuery("#wp-rem-dev-near-by-save-"+t);wp_rem_show_loader("#wp-rem-dev-near-by-save-"+t,"","button_loader",a);var i,n=r.find('input[type="file"]')[0];n.files&&n.files[0]&&((i=new FileReader).onload=function(e){r.find("img").attr("src",e.target.result),$("#near-by-image-"+t+" img").attr("src",e.target.result)},i.readAsDataURL(n.files[0])),$("#near-by-title-"+t).html("<h6>"+e+"</h6>"),setTimeout(function(){wp_rem_show_response("","",a),r.slideUp()},500)}),$(document).on("click",".book-btn",function(){$(this).next(".calendar-holder").slideToggle("fast")}),$(document).on("click",'a[id^="wp-rem-dev-day-off-rem-"]',function(){var e=$(this).data("id");$("#day-remove-"+e).remove()}),$(document).on("click",'a[id^="choose-all-apply-"]',function(){"use strict";var e=$(this),t=$(this).data("id");e.hasClass("feat-checked")?(e.removeClass("feat-checked"),$("#features-check-list-"+t).find('input[type="checkbox"]').prop("checked",!1)):(e.addClass("feat-checked"),$("#features-check-list-"+t).find('input[type="checkbox"]').prop("checked","checked"))}),$(document).on("click",".wp-rem-dev-gallery-upload-btn",function(){var e=$(this).data("id");$("#image-uploader-"+e).trigger("click")}),$(document).on("click",".wp-rem-dev-attachment-upload-btn",function(){var e=$(this).data("id");$("#attachment-uploader-"+e).trigger("click")}),$(document).on("click",".wp-rem-dev-floor-upload-btn",function(){var e=$(this).data("id");$("#floor-uploader-"+e).trigger("click")}),$(document).on("click",".wp-rem-dev-featured-upload-btn",function(){var e=$(this).data("id");$("#featured-image-uploader-"+e).trigger("click")}),$(document).on("click",".wp-rem-dev-video-cover-btn",function(){var e=$(this).data("id");$("#video-image-uploader-"+e).trigger("click")}),$(document).on("click",".wp_rem_add_floor_plan_data",function(){var e=jQuery(this).data("id"),t=jQuery(this).closest(".modal-body").find("#wp_rem_property_floor_plan_title").val();jQuery(".add-floor-data-link-"+e).html(t),$("#add-floor-image-data-"+e).modal("hide")}),$(document).on("click",".wp_rem_add_attachment_data",function(){var e=jQuery(this).data("id"),t=jQuery(this).closest(".modal-body").find("#wp_rem_property_attachment_title").val();jQuery(".attachment-data-link-"+e).html(t),$("#add-attachment-data-"+e).modal("hide")}),$(document).on("click",".gal-img .close-btn",function(){$(this).attr("data-id");$(this).parents(".gal-img").remove(),$(".wp-rem-dev-gallery-uploader").val("")}),$(document).on("click",".dev-wp-rem-property-update-package",function(){"use strict";var e=$(this).data("id"),t=$("#property-info-sec-"+e),r=$("#property-packages-sec-"+e);t.hide(),r.slideDown()}),$(document).on("click",".wp-rem-dev-cancel-pkg",function(){"use strict";var e,t=$(this).data("id"),r=$("#property-info-sec-"+t),a=$("#wp-rem-dev-new-pkg-checkbox-"+t),i=$("#new-packages-"+t),n=$("#purchased-packages-"+t),o=$("#purchased-package-head-"+t),p=$("#buy-package-head-"+t),s=$("#property-packages-sec-"+t);r.slideDown(),s.hide(),$(".all-pckgs-sec").find('.pkg-detail-btn input[type="radio"]').prop("checked",!1),$(".all-pckgs-sec").find('input[name="wp_rem_property_featured"]').prop("checked",!1),$(".all-pckgs-sec").find('input[name="wp_rem_property_top_cat"]').prop("checked",!1),$(".all-pckgs-sec").find(".package-info-sec").hide(),$(".all-pckgs-sec").find(".wp-rem-pkg-header").removeClass("active-pkg"),1===$(".dir-switch-packges-btn").length&&(e=$("#wp-rem-dev-new-pkg-btn-"+t),a.prop("checked",!1),i.hide(),n.slideDown(),p.hide(),o.slideDown(),e.html(wp_rem_property_strings.buy_new_packg))}),$(document).on("click",".wp-rem-dev-detail-pkg",function(){"use strict";var e=$(this).data("id"),t=$("#package-detail-"+e);t.is(":visible")?(t.slideUp(),$(this).html(wp_rem_property_strings.detail_txt)):($(".all-pckgs-sec").find(".package-info-sec").hide(),t.slideDown(),$(this).html(wp_rem_property_strings.close_txt))}),$(document).on("click",".pkg-detail-btn .check-select",function(){"use strict";var e=$(this).parents(".pkg-detail-btn").find('input[type="radio"]');e.is(":checked")||($(this).parents(".wp-rem-pkg-header").addClass("active-pkg"),e.prop("checked",!0))}),$(document).on("click",".pkg-cancel-btn",function(){"use strict";var e=$(this),t=$(this).data("id"),r=$("#package-detail-"+t),a=$("#package-"+t);r.slideUp(400,function(){e.parents(".wp-rem-pkg-holder").find(".wp-rem-pkg-header").removeClass("active-pkg")}),a.prop("checked",!1),$(".register-payment-gw-holder").slideUp(),$("#register-property-order").hide(),e.parents(".wp-rem-pkg-holder").find('input[name="wp_rem_property_featured"]').prop("checked",!1),e.parents(".wp-rem-pkg-holder").find('input[name="wp_rem_property_top_cat"]').prop("checked",!1)}),$(document).on("click",".pkg-choose-btn",function(){"use strict";var e=$(this),t=e.data("id"),r=$("#package-detail-"+t),a=$("#package-"+t);$(".all-pckgs-sec").find(".wp-rem-pkg-header").removeClass("active-pkg"),a.prop("checked",!0),$(".register-payment-gw-holder").slideDown(),$("#register-property-order").show(),r.slideUp(400,function(){e.parents(".wp-rem-pkg-holder").find(".wp-rem-pkg-header").addClass("active-pkg")})}),$(document).on("click",'a[id^="wp-rem-dev-new-pkg-btn-"]',function(){"use strict";var e=$(this),t=$(this).data("id"),r=$("#wp-rem-dev-new-pkg-checkbox-"+t),a=$("#new-packages-"+t),i=$("#purchased-packages-"+t),n=$("#purchased-package-head-"+t),o=$("#buy-package-head-"+t);$(".dev-property-featured-top-cat").remove(),r.is(":checked")?r.prop("checked",!1):r.prop("checked",!0),r.is(":checked")?(i.hide(),a.slideDown(),n.hide(),o.slideDown(),e.html(wp_rem_property_strings.buy_exist_packg)):(a.hide(),i.slideDown(),o.hide(),n.slideDown(),e.html(wp_rem_property_strings.buy_new_packg))}),$(document).on("click",'a[id^="wp-rem-dev-insert-attachments-"]',function(){"use strict";var e=$(this).data("id");$("#wp-rem-dev-insert-attachments-con-"+e).slideToggle()}),$(document).on("click",'a[id^="wp-rem-dev-add-attachments-"]',function(){"use strict";$(this);var t,r,e,a=$(this).data("id"),i=wp_rem_property_strings.ajax_url,n=$("#wp-rem-dev-insert-attachments-con-"+a),o=n.find(".attachment-title"),p=n.find(".attachment-file"),s=$("#wp-rem-dev-add-attachments-app-"+a),d=s.find("#no-attachments-"+a);$("#wp-rem-dev-act-msg-"+a);void 0!==o&&""!=o.val()&&void 0!==p&&""!=p.val()?(t=jQuery("#wp-rem-dev-add-attachments-"+a),wp_rem_show_loader("#wp-rem-dev-add-attachments-"+a,"","button_loader",t),r=new FormData,$.each($("input.attachment-file")[0].files,function(e,t){r.append(e,t)}),r.append("title_field",o.val()),r.append("allowed_extentions",p.attr("data-allowed-extentions")),r.append("property_add_counter",a),r.append("action","wp_rem_property_attachments_to_list"),$.ajax({url:i,method:"POST",data:r,cache:!1,dataType:"json",processData:!1,contentType:!1}).done(function(e){void 0!==e.html&&(d.remove(),s.append(e.html),o.val(""),$("#wp-rem-dev-insert-attachments-con-"+a).find(".icons-selector .selector .selected-icon > i").removeAttr("class"),$("#wp-rem-dev-insert-attachments-con-"+a).find(".icons-selector .selector .selected-icon > i").addClass("icon-cancel2"),n.find("img.attachment-file-viewer").attr("src",""),n.find("input.attachment-file").val(""));e={type:"success",msg:wp_rem_property_strings.attachment_added};wp_rem_show_response(e,"",t),$("#wp-rem-dev-insert-attachments-con-"+a).slideUp(),$(".attachment-file-viewer-holder").hide()}).fail(function(){wp_rem_show_response("","",t)})):(e={type:"error",msg:wp_rem_property_strings.compulsory_fields},wp_rem_show_response(e))}),$(document).on("change","input.attachment-file",function(){"use strict";var e=this,t=jQuery(e).data("id");if(void 0!==t?jQuery("span.allowed-extensions-"+t).css("color",""):jQuery("span.allowed-extensions").css("color",""),e.files&&e.files[0]){var r,a=jQuery(e).attr("data-allowed-extentions"),i=new Array,i=a.split(","),n=e.value.match(/\.(.+)$/)[1];if(-1==$.inArray(n,i)){return void 0!==t?jQuery("span.allowed-extensions-"+t).css("color","red"):jQuery("span.allowed-extensions").css("color","red"),wp_rem_show_response({type:"error",msg:"Invalid Extension!"}),jQuery(".attachment-file").val(""),$(".attachment-file-viewer-holder").hide(),$("img.attachment-file-viewer").attr("src",""),!1}void 0!==t?$("img.attached-file-"+t).attr("src",wp_rem_property_strings.plugin_url+"/assets/common/attachment-images/attach-"+n+".png"):((r=new FileReader).onload=function(e){$("img.attachment-file-viewer").attr("src",wp_rem_property_strings.plugin_url+"/assets/common/attachment-images/attach-"+n+".png")},r.readAsDataURL(e.files[0]),$(".attachment-file-viewer-holder").show())}}),$(document).on("click",'a[id^="wp-rem-dev-attachments-edit-"]',function(){"use strict";var e=$(this).data("id");$("#wp-rem-dev-attachments-edit-con-"+e).slideToggle()}),$(document).on("click",'a[id^="wp-rem-dev-attachments-save-"]',function(){"use strict";var t=$(this).data("id"),r=$("#wp-rem-dev-attachments-edit-con-"+t),e=r.find(".attachment-title").val(),a=(r.find(".attachment-file").val(),jQuery("#wp-rem-dev-attachments-save-"+t));wp_rem_show_loader("#wp-rem-dev-attachments-save-"+t,"","button_loader",a);var i,n,o=r.find('input[type="file"]')[0];o.files&&o.files[0]&&(i=new FileReader,n=o.value.match(/\.(.+)$/)[1],i.onload=function(e){r.find("img").attr("src",wp_rem_property_strings.plugin_url+"/assets/common/attachment-images/attach-"+n+".png"),$("#attachment-file-"+t+" img").attr("src",wp_rem_property_strings.plugin_url+"/assets/common/attachment-images/attach-"+n+".png")},i.readAsDataURL(o.files[0])),$("#attachment-title-"+t).html("<h6>"+e+"</h6>");var p=new FormData;$.each(r.find("input.attachment-file")[0].files,function(e,t){p.append(e,t)}),p.append("ajax_filter","true"),p.append("action","get_atachment_id_by_file"),adding_service=$.ajax({url:wp_rem_property_strings.ajax_url,method:"POST",data:p,cache:!1,dataType:"json",processData:!1,contentType:!1}).done(function(e){r.find(".property-attachment-id").val(e.html)}),setTimeout(function(){wp_rem_show_response("","",a),r.slideUp()},500)}),$(document).on("click",".remove-this-attachment",function(){$(this).parent(".info-holder").slideUp()}),$(document).on("click",'a[id^="wp-rem-dev-add-apartment-"]',function(){"use strict";$(this);var t,e,r,a=$(this).data("id"),i=wp_rem_property_strings.ajax_url,n=(wp_rem_property_strings.plugin_url,$("#wp-rem-dev-insert-apartment-con-"+a)),o=n.find(".apartment-plot"),p=n.find(".apartment-beds"),s=n.find(".apartment-price-from"),d=n.find(".apartment-floor"),l=n.find(".apartment-address"),c=n.find(".apartment-availability"),_=n.find(".apartment-link"),m=$("#wp-rem-dev-add-apartment-app-"+a),u=m.find("#no-apartment-"+a);$("#dev-apartment-loader-"+a),$("#wp-rem-dev-act-msg-"+a);void 0!==o&&""!=o.val()?(t=jQuery("#wp-rem-dev-add-apartment-"+a),wp_rem_show_loader("#wp-rem-dev-add-apartment-"+a,"","button_loader",t),(e=new FormData).append("plot_field",o.val()),e.append("beds_field",p.val()),e.append("price_from_field",s.val()),e.append("floor_field",d.val()),e.append("address_field",l.val()),e.append("availability_field",c.val()),e.append("link_field",_.val()),e.append("property_add_counter",a),e.append("action","wp_rem_property_apartment_to_list"),$.ajax({url:i,method:"POST",data:e,cache:!1,dataType:"json",processData:!1,contentType:!1}).done(function(e){void 0!==e.html&&(u.remove(),m.append(e.html),o.val(""),$("#wp-rem-dev-insert-apartment-con-"+a).find(".icons-selector .selector .selected-icon > i").removeAttr("class"),$("#wp-rem-dev-insert-apartment-con-"+a).find(".icons-selector .selector .selected-icon > i").addClass("icon-cancel2"),p.val(""),s.val(""),d.val(""),l.val(""),c.val(""),_.val(""));e={type:"success",msg:wp_rem_property_strings.apartment_added};wp_rem_show_response(e,"",t),$("#wp-rem-dev-insert-apartment-con-"+a).slideUp()}).fail(function(){wp_rem_show_response("","",t)})):(r={type:"error",msg:wp_rem_property_strings.compulsory_fields},wp_rem_show_response(r))}),$(document).on("click",".remove-this-apartment",function(){$(this).parent(".info-holder").slideUp()}),$(document).on("click",'a[id^="wp-rem-dev-apartment-edit-"]',function(){var e=$(this).data("id");$("#wp-rem-dev-apartment-edit-con-"+e).slideToggle()}),$(document).on("click",'a[id^="wp-rem-dev-insert-apartment-"]',function(){var e=$(this).data("id");$("#wp-rem-dev-insert-apartment-con-"+e).slideToggle()}),$(document).on("click",'a[id^="wp-rem-dev-apartment-save-"]',function(){"use strict";var e=$(this).data("id"),t=$("#wp-rem-dev-apartment-edit-con-"+e),r=t.find(".apartment-plot").val();beds_val=t.find(".apartment-beds").val(),price_val=t.find(".apartment-price-from").val(),floor_val=t.find(".apartment-floor").val(),address_val=t.find(".apartment-address").val(),availibility_val=t.find(".apartment-availability").val(),link_val=t.find(".apartment-link").val();var a=jQuery("#wp-rem-dev-apartment-save-"+e);wp_rem_show_loader("#wp-rem-dev-apartment-save-"+e,"","button_loader",a),$("#apartment-plot-"+e).html("<h6>"+r+"</h6>"),$("#apartment-beds-"+e).html("<h6>"+beds_val+"</h6>"),$("#apartment-price-"+e).html("<h6>"+price_val+"</h6>"),$("#apartment-floor-"+e).html("<h6>"+floor_val+"</h6>"),$("#apartment-address-"+e).html("<h6>"+address_val+"</h6>"),$("#apartment-availability-"+e).html("<h6>"+availibility_val+"</h6>"),$("#apartment-title-"+e).html("<h6>"+link_val+"</h6>"),setTimeout(function(){wp_rem_show_response("","",a),t.slideUp()},500)}),jQuery(document).on("click","#add-faq #wp_rem_add_faq_to_list",function(){"use strict";var t=jQuery(this),r=jQuery(".faq-request-holder");wp_rem_show_loader(".faq-request-holder","","button_loader",r),t.prop("disabled",!0);var e="faq_title="+jQuery("#add-faq #wp_rem_faq_title").val()+"&faq_desc="+jQuery("#add-faq #wp_rem_faq_desc").val()+"&action=add_faq_to_list";return jQuery.ajax({type:"POST",url:wp_rem_globals.ajax_url,data:e,dataType:"json",success:function(e){t.prop("disabled",!1),wp_rem_show_response(e,"",r),"success"==e.type&&(jQuery(".property-faq-list").append(e.html),jQuery("#add-faq .close-faq").click(),jQuery("#add-faq #wp_rem_faq_title").val(""),jQuery("#add-faq #wp_rem_faq_desc").val(""))}}),!1}),jQuery(document).on("click",".property-faq-list .edit-faq",function(){"use strict";var e=jQuery(this),t=e.closest("li").find("#wp_rem_faq_title").val(),r=e.closest("li").find("#wp_rem_faq_desc").val(),a=e.closest("li").find("#wp_rem_faq_counter").val();jQuery("#edit-faq").modal("show"),jQuery("#edit-faq").find("#wp_rem_faq_title").val(t),jQuery("#edit-faq").find("#wp_rem_faq_desc").val(r),jQuery("#edit-faq").find("#wp_rem_faq_counter").val(a)}),jQuery(document).on("click","#wp_rem_edit_faq_to_list",function(){"use strict";var t=jQuery(this),r=jQuery(".edit-faq-request-holder");wp_rem_show_loader(".edit-faq-request-holder","","button_loader",r),t.prop("disabled",!0);var e=jQuery("#edit-faq #wp_rem_faq_title").val(),a=jQuery("#edit-faq #wp_rem_faq_desc").val(),i=jQuery("#edit-faq #wp_rem_faq_counter").val(),n="faq_title="+e+"&faq_desc="+a+"&faq_counter="+i+"&action=edit_faq_to_list";return jQuery.ajax({type:"POST",url:wp_rem_globals.ajax_url,data:n,dataType:"json",success:function(e){t.prop("disabled",!1),wp_rem_show_response(e,"",r),"success"==e.type&&(jQuery(".property-faq-list .faq-"+i).html(),jQuery(".property-faq-list .faq-"+i).html(e.html),jQuery("#edit-faq").modal("hide"),jQuery("#edit-faq #wp_rem_faq_title").val(""),jQuery("#edit-faq #wp_rem_faq_desc").val(""))}}),!1}),jQuery(document).on("click",".property-faq-list .remove-faq a",function(){"use strict";var e=jQuery(this);jQuery("#id_confrmdiv").show(),jQuery("#id_truebtn").click(function(){return jQuery("#id_confrmdiv").hide(),e.closest("li").slideUp(500,function(){e.closest("li").remove()}),!1}),jQuery("#id_falsebtn").click(function(){return jQuery("#id_confrmdiv").hide(),!1})}),""!=jQuery(".apartment_repeater_btn").length&&jQuery(".apartment_repeater_btn").live("click",function(){"use strict";var t=jQuery(this).data("id")+"_fields";jQuery(this).append(' <span class="loader-spinner"><i class="icon-spinner8"></i></span>'),jQuery.ajax({type:"POST",url:wp_rem_globals.ajax_url,data:"action=wp_rem_apartment_repeating_fields&die=true&ajax=true",success:function(e){jQuery(".loader-spinner").remove(),jQuery("#"+t).append(e)}})}),jQuery(document).on("click",".wp-rem-element-remove",function(){var e=jQuery(this).closest(".wp-rem-repeater-form");e.slideUp(400,function(){e.remove()})});